{"version":3,"sources":["webpack:///./src/views/assetsAdsn/equipment.vue?accf","webpack:///src/views/assetsAdsn/equipment.vue","webpack:///./src/views/assetsAdsn/equipment.vue?9ac1","webpack:///./src/views/assetsAdsn/equipment.vue","webpack:///./src/config/config.sit.js","webpack:///./src/config/index.js","webpack:///./src/config/config.prd.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","gutter","span","separator","_v","align","getUserJurisdiction","href","hostname","stationId","size","_e","show-file-list","action","on-success","res","uploadSuccess","before-upload","info","beforeAvatarUpload","type","style","margin","header-cell-class-name","data","tableList","border","stripe","width","label","_l","col","index","key","prop","small","page-size","layout","total","on","current-change","handleCurrentChange","staticRenderFns","equipmentvue_type_script_lang_js_","mixins","jurisdictionMixin","columns","created","config","HOST","pvamsDomain","treeData","$store","state","getTreeId","treeId","id","includes","slice","length","getTableList","watch","getStateData","v","computed","methods","_getTableList","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","pageNo","params","_ref","_ref$data$data","deviceList","_ref$data$data$page","count","wrap","_context","prev","next","loadingOpen","pageSize","axios","sent","page","loadingClose","stop","_x","apply","arguments","val","code","$message","message","file","isLt20M","error","assetsAdsn_equipmentvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","ENV","window","location","prd","sit"],"mappings":"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","file":"js/equipment.010c12a0.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"equipment\"},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',[_vm._v(\"资产管理\")]),_c('el-breadcrumb-item',[_vm._v(\"设备信息\")])],1)],1),_c('el-col',{attrs:{\"span\":10,\"align\":\"right\"}},[(_vm.getUserJurisdiction('AT09'))?_c('a',{attrs:{\"href\":(_vm.hostname + \"/pvams/device/export/\" + _vm.stationId)}},[_c('el-button',{attrs:{\"size\":\"small\"}},[_vm._v(\"导出信息\")])],1):_vm._e()]),_c('el-col',{attrs:{\"span\":2,\"align\":\"right\"}},[(_vm.getUserJurisdiction('AT09'))?_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"show-file-list\":false,\"action\":(\"/pvams/device/import/\" + _vm.stationId),\"on-success\":function (res) { return _vm.uploadSuccess(res); },\"before-upload\":function (info) { return _vm.beforeAvatarUpload(info); }}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"导入信息\")])],1):_vm._e()],1)],1),_c('div',{staticClass:\"table\",style:({margin: '20px 0'})},[_c('el-table',{attrs:{\"header-cell-class-name\":\"table-th\",\"data\":_vm.tableList,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"width\":\"50px\",\"align\":\"center\",\"label\":\"序号\"}}),_vm._l((_vm.columns),function(col,index){return _c('el-table-column',{key:index,attrs:{\"align\":\"center\",\"prop\":col.prop,\"label\":col.label,\"width\":col.width}})})],2)],1),_c('div',[_c('el-pagination',{attrs:{\"align\":\"right\",\"small\":\"\",\"page-size\":10,\"layout\":\"prev, pager, next\",\"total\":_vm.total},on:{\"current-change\":_vm.handleCurrentChange}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// 设备信息\r\n<template>\r\n  <div class=\"equipment\">\r\n    <el-row :gutter=\"20\">\r\n      <el-col :span=\"12\">\r\n        <el-breadcrumb separator=\"/\">\r\n          <el-breadcrumb-item>资产管理</el-breadcrumb-item>\r\n          <el-breadcrumb-item>设备信息</el-breadcrumb-item>\r\n        </el-breadcrumb>\r\n      </el-col>\r\n      <el-col :span=\"10\" align=\"right\">\r\n        <a v-if=\"getUserJurisdiction('AT09')\" :href=\"`${hostname}/pvams/device/export/${stationId}`\">\r\n          <el-button size=\"small\">导出信息</el-button>\r\n        </a>\r\n      </el-col>\r\n      <el-col :span=\"2\" align=\"right\">\r\n        <el-upload\r\n          v-if=\"getUserJurisdiction('AT09')\"\r\n          class=\"upload-demo\"\r\n\t\t\t\t\t:show-file-list=\"false\"\r\n          :action=\"`/pvams/device/import/${stationId}`\"\r\n          :on-success=\"(res) => uploadSuccess(res)\"\r\n          :before-upload=\"(info) => beforeAvatarUpload(info)\">\r\n          <el-button size=\"small\" type=\"primary\">导入信息</el-button>\r\n        </el-upload>\r\n      </el-col>\r\n    </el-row>\r\n    <div class=\"table\" :style=\"{margin: '20px 0'}\">\r\n      <el-table header-cell-class-name=\"table-th\" :data=\"tableList\" border stripe>\r\n        <el-table-column type=\"index\" width=\"50px\" align=\"center\" label=\"序号\"></el-table-column>\r\n        <el-table-column v-for=\"(col, index) in columns\"\r\n          align=\"center\"\r\n          :prop=\"col.prop\"\r\n          :key=\"index\"\r\n          :label=\"col.label\"\r\n          :width=\"col.width\">\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n    <div>\r\n      <el-pagination\r\n        align=\"right\"\r\n        small\r\n        :page-size=\"10\"\r\n        @current-change=\"handleCurrentChange\"\r\n        layout=\"prev, pager, next\"\r\n        :total=\"total\">\r\n      </el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport config from \"@/config\";\r\nimport jurisdiction from \"@/mixin/jurisdictionMixin\";\r\n\r\nexport default {\r\n  mixins: [jurisdiction],\r\n  data() {\r\n    return {\r\n      tableList: [1],\r\n      columns: [\r\n        {\r\n          prop: \"deviceName\",\r\n          label: \"设备名称\",\r\n        },\r\n        {\r\n          prop: \"number\",\r\n          label: \"数量\",\r\n        },\r\n        {\r\n          prop: \"type\",\r\n          label: \"类型\",\r\n        },\r\n        {\r\n          prop: \"model\",\r\n          label: \"型号\",\r\n        },\r\n        {\r\n          prop: \"supplier\",\r\n          label: \"供应商\",\r\n        },\r\n        {\r\n          prop: \"contact\",\r\n          label: \"联系人\",\r\n        },\r\n        {\r\n          prop: \"phone\",\r\n          label: \"联系方式\",\r\n        },\r\n        {\r\n          prop: \"warrantyStartDate\",\r\n          label: \"质保起始日期\",\r\n          width: \"120px\",\r\n        },\r\n        {\r\n          prop: \"warrantyEndDate\",\r\n          label: \"质保终止日期\",\r\n          width: \"120px\",\r\n        },\r\n        {\r\n          prop: \"param\",\r\n          label: \"主要参数\",\r\n          width: \"100px\",\r\n        },\r\n        {\r\n          prop: \"remark\",\r\n          label: \"备注\",\r\n        }\r\n      ],\r\n      stationId: \"\",\r\n      total: 0,\r\n      hostname: \"\",\r\n    }\r\n  },\r\n  created() {\r\n    this.hostname = config.HOST.pvamsDomain || \"\"\r\n    const treeData = this.$store.state.getTreeId.treeId;\r\n    if (treeData.id && treeData.id.includes(\"s\")) {\r\n      this.stationId = treeData.id.slice(1, treeData.id.length);\r\n      if (this.stationId) this.getTableList();\r\n    }\r\n  },\r\n  watch: {\r\n    getStateData(v) {\r\n      const treeData = this.$store.state.getTreeId.treeId;\r\n      if (treeData.id && treeData.id.includes(\"s\")) {\r\n        this.stationId = treeData.id.slice(1, treeData.id.length);\r\n        if (this.stationId) this.getTableList();\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    getStateData() {\r\n      return this.$store.state.getTreeId.treeId;\r\n    },\r\n  },\r\n  methods: {\r\n    async getTableList(pageNo) {\r\n      this.loadingOpen();\r\n      const params = {\r\n        stationId: this.stationId,\r\n        pageNo,\r\n        pageSize: 10\r\n      };\r\n      const {data: {data: {deviceList, page: { count } = {}} = {}}} = await this.axios(\"/pvams/station/getStationDevice\", { params });\r\n      this.loadingClose();\r\n      if (deviceList) {\r\n        this.tableList = deviceList || [];\r\n        this.total = count;\r\n      }\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.getTableList(val);\r\n    },\r\n    uploadSuccess(res) {\r\n      if (res.code === 200) {\r\n        this.$message({type: \"success\", message: \"上传成功\"});\r\n        this.getTableList(1);\r\n      } else {\r\n        this.$message({type: \"error\", message: res.message});\r\n      }\r\n    },\r\n    // 上传前校验\r\n    beforeAvatarUpload(file) {\r\n      const isLt20M = file.size / 1024 / 1024 < 20;\r\n      if (!isLt20M) this.$message.error('上传文件大小不得超过20mb!');\r\n      return isLt20M;\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./equipment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./equipment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./equipment.vue?vue&type=template&id=c136aadc&scoped=true&\"\nimport script from \"./equipment.vue?vue&type=script&lang=js&\"\nexport * from \"./equipment.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c136aadc\",\n  null\n  \n)\n\nexport default component.exports","const HOST = {\r\n  pvamsDomain: 'http://101.37.67.138:8088',\r\n};\r\n\r\nconst ENV = 'sit';\r\n\r\nexport {\r\n  HOST,\r\n  ENV,\r\n};\r\n","import * as sit from './config.sit';\r\nimport * as prd from './config.prd';\r\n\r\nlet config;\r\n\r\nif (window.location.hostname === '101.37.67.138') {\r\n  config = prd;\r\n} else {\r\n  config = sit;\r\n}\r\nexport default config;\r\n","const HOST = {\r\n  // pvamsDomain: 'http://148.70.2.3:8090',\r\n  pvamsDomain: 'http://101.37.67.138:8088',\r\n};\r\n\r\nconst ENV = 'prd';\r\n\r\nexport {\r\n  HOST,\r\n  ENV,\r\n};\r\n"],"sourceRoot":""}